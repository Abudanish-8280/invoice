<div *ngIf="invoice">
    <div class="edit-header">
        <button type="button" class="back-btn" (click)="goBack()">
            <span class="arrow-icon">&#8592;</span> Back
        </button>
        <h2>Edit Invoice</h2>
    </div>
    <form (ngSubmit)="saveInvoice()">
        <label for="customerName">Customer Name</label>
        <input type="text" id="customerName" [(ngModel)]="invoice.customerName" name="customerName" required>

        <label for="dueDate">Due Date</label>
        <input id="dueDate" [(ngModel)]="invoice.dueDate" name="dueDate" type="date" required>

        <div>
            <div class="items-header">
                <h3>Items</h3>
                <button type="button" class="add-item-btn" (click)="addItem()">Add Item</button>
            </div>
            <!-- Example for item row -->
            <div class="item-row" *ngFor="let item of invoice.items; let i = index">
                <div>
                    <label>Description</label>
                    <input type="text" [(ngModel)]="item.description" name="description{{i}}" required>
                </div>
                <div>
                    <label>Quantity</label>
                    <div class="quantity-controls">
                        <button type="button" class="quantity-btn" (click)="decrementQuantity(i)">-</button>
                        <input [(ngModel)]="item.quantity" name="quantity{{i}}" type="number" required
                            style="width:50px;">
                        <button type="button" class="quantity-btn" (click)="incrementQuantity(i)">+</button>
                    </div>
                </div>
                <div>
                    <label>Price</label>
                    <input [(ngModel)]="item.price" name="price{{i}}" type="number" required>
                </div>
                <button type="button" class="remove-btn" (click)="removeItem(i)">Remove</button>
            </div>
        </div>

        <button type="submit">Save Invoice</button>
    </form>
</div>
<div *ngIf="!invoice">
    <p>Loading...</p>
</div>